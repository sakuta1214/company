{% extends 'base.html' %}

{% block title %}社員一覧{% endblock %}

{% block content %}
<h2>社員一覧</h2>
<a href="{{ url_for('employee_new') }}" class="btn btn-primary mb-3">新規登録</a>
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>名前</th>
      <th>メール</th>
      <th>部署</th>
      <th>役職</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    {% for emp in employees %}
    <tr>
      <td>{{ emp.name }}</td>
      <td>{{ emp.email }}</td>
      <td>{{ emp.department }}</td>
      <td>{{ emp.position }}</td>
      <td>
        <a href="{{ url_for('employee_edit', id=emp.id) }}" class="btn btn-sm btn-warning">編集</a>
        <form method="POST" action="{{ url_for('employee_delete', id=emp.id) }}" style="display:inline;" onsubmit="return confirm('削除してもよろしいですか？');">
          <button type="submit" class="btn btn-sm btn-danger">削除</button>
        </form>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="5" class="text-center">登録された社員はいません</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
